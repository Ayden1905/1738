{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "title": "the_map",
    "width": "container",
    "params": [
        {
            "name": "Year_Selection",
            "value": 2002,
            "bind": {
                "input": "range",
                "min": 2002,
                "max":2017,
                "step":1,
                "name": "Year: "
            }
        },
        {
            "name": "Type_Selection",
            "value":"select"
            
        }
    ],
    "projection": {
        "type":"mercator",
        "center":[144.9631,-37.8136],
        "scale": 1200000
    },
    "layer": [
        {
            "data":{
                "url": "./SAL_2021_AUST_GDA94.json",
                "format":{"type": "topojson","feature": "SAL_2021_AUST_GDA94"}
            },
            "mark":{"type": "geoshape","fill":"lightslategray","stroke":"white"}
        },
        {
            "data":{"url": "./tram-tracks.geojson","format":{"type": "json"}},
            "mark":{
                "type": "geoshape",
                "fill": "null",
                "stroke":"aqua"
            }
        },
        {
            "data":{
                "url": "cafes-and-restaurants-with-seating-capacity.csv"},
            "transform": [
                { "filter": "datum.census_year == Year_Selection" },
                {"filter":{"field": "industry_anzsic4_description",
                "oneOf":["Cafes and Restaurants"]
                }
            },
            {"filter":"datum.longitude >= 144.8 && datum.longitude<=145.15 && datum.latitude <=-37.65 && datum.latitude >=-38.06 && datum.longitude != null && datum.latitude != null"}
            ],
            "mark":{"type": "circle"},
            "encoding": {
                "longitude":{"field":"longitude","type": "quantitative"},
                "latitude":{"field":"latitude","type": "quantitative"},
            "color":{
                "field":"industry_anzsic4_description",
                "type": "nominal",
                "title": "Industries",
                "scale": {
                    "range":[
                        "#FFA500",
                        "#0000FF"
                    ]
                }
            },
            "tooltip":[
            {"field":"building_address","title":"Address"},
            {"field":"trading_name","title":"Name"},
            {"field":"number_of_seats","title":"Number of seats"}
        ]
            }
        }
    ]

}





